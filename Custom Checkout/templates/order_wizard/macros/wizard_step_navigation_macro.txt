<% registerMacro('wizadStepNavigation', function (step_groups) { %>
<ul class="wizard-step-groups">
<% var index_counter = 0; %>
<style>
.wizard-step-link .circle {
    border-radius: 50%;
    height: 23px;
    border-radius: 50%;
    background: none repeat scroll 0% 0% rgb(254, 107, 56);
    width: 23px;
    padding: 0px;
    float: left;
}}
.active .circle {
    background: none repeat scroll 0% 0% rgb(254, 107, 56);
}
.disabled .circle {
    background: none repeat scroll 0% 0% rgb(153, 153, 153);
}
.stepN{
    margin: 2px 8px;
    color: #fff;
    font-size: 15px;
}
</style>
<% _.each(step_groups, function (step_group) { %>
	<%
		var list_item_class = 'wizard-step-link';
		if (step_group.state === 'present')
		{
			list_item_class += ' active';
		}
		else if (step_group.state === 'future')
		{
			list_item_class += ' disabled';	
		}
		
		if (step_group.hasErrors())
		{
			list_item_class += ' error';
		}
	%>

	<% if (index_counter) { %>
		<li class="divider divider-<%= index_counter %>"  style="display:none;">/</li>
	<% } %>
<% if (index_counter != 2) {%>
	<li class="<%- list_item_class %> wizard-step-<%= index_counter %>">	
		<a href="<%- step_group.state === 'future' ? Backbone.history.fragment : step_group.url + '?force=true' %>">
			<div class="step-index step-index-<%= index_counter %> circle" >
				<div class="stepN"><%= ++index_counter %></div>
			</div>
			<%= step_group.name %>
		</a>
	</li>
<% } %>
<% }) %>
</ul>
<% }) %>