var GPR_AAE_CRV=function(C){var B={saveFormURL:"",itemId:"",saveId:"crv_save",formIframeId:"crv_save_iframe",formLinkId:"crv_save_link",starsWrapId:"crv_stars_wrap",ratingInputId:"custrecord_gpr_aae_crv_rating",anonymousText:"Your Identity is Anonymous",reviewerInputId:"custrecord_gpr_aae_crv_reviewer",maxReviewsCount:5},A="";return{init:function(D){if(D!==null&&D!==undefined){C.extend(B,D)
}},showForm:function(){if(C("#"+B.formIframeId).is(":hidden")){C("#"+B.formIframeId).slideDown(500)}else{C("#"+B.formIframeId).slideUp(500)}},setFormURL:function(){var E=B.saveFormURL+"&custrecord_gpr_aae_crv_itemid="+B.itemId+"&custrecord_gpr_aae_crv_customerid="+GPR_OPTIONS.options().customerId+"&custrecord_gpr_aae_crv_sitenumber="+GPR_OPTIONS.options().siteNumber+"&custrecord_gpr_aae_crv_state=3";
var D=C("<iframe>");D.attr({id:"crv_save_iframe",name:"crv_save_iframe",src:E,frameborder:"0",scrolling:"no",marginwidth:"0",marginheight:"0",allowtransparency:"yes"});D.css("display","none");D.appendTo("#"+B.saveId)},setAnonymous:function(F){var D=F.checked;var E=C("#"+B.reviewerInputId);if(D){A=E.val();E.val(B.anonymousText);E.attr({"class":"input-disable",disabled:true})
}else{E.val(A);E.removeAttr("disabled");E.attr("class","inputreq");A=""}},initRatingLinks:function(){for(var D=1;D<=B.maxReviewsCount;D++){C("<a>").attr({title:"Rating "+D,href:"javascript:void(0);","class":"stars",id:D}).click(function(F){var E=true;C("#"+B.starsWrapId+">a").each(function(G,H){if(E){C(H).attr("class","stars-selected");if(H==F.target){C("#"+B.ratingInputId).val(G+1);
E=false}}else{C(H).attr("class","stars")}})}).hover(function(F){var E=true;C("#"+B.starsWrapId+">a").each(function(G,H){if(E){C(H).attr("class","stars-hover");if(H==F.target){E=false}}else{C(H).attr("class","stars")}})},function(){var E=true;C("#"+B.starsWrapId+">a").each(function(F,G){if(C("#"+B.ratingInputId).val()==F){E=false}if(E){C(G).attr("class","stars-selected")
}else{C(G).attr("class","stars")}})}).appendTo("#"+B.starsWrapId)}}}}(jQuery);